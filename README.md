## 使用说明

### 概述

将通信数据进行封装，允许注册不同类型的消息，并为每种消息设立独立的回调函数进行数据处理。

### 数据帧格式：

数据类型（1byte：高四位标记 ID, 低四位标记数据类型）：数据长度(1byte)：数据内容（n byte）：结束标志符（1byte：）

### 数据发送机制：

注册消息发送串口选择消息类型，使用消息发送函数将消息发送出去。

### 数据接收机制：

为每一种消息创建消息实例（实际上为`struct msg_instance`结构体），并注册接收串口以及回调函数，轮询每一个消息实例注册的接收缓存区的数据，将完整的数据存放进对应消息实例的消息队列，然后将校验过的消息出队完成消息的读取，并调用接收回调函数进行数据处理。

### 注意事项

- 由于结束标识符为`255`即`0xff`所以在传输过程中要避免出现`0xff`，传输的数据类型为无符号整型如果传输-1就有可能出现255。
- 数据接收缓存区应该设置为消息长度的5到10倍为宜，发送缓存区要比消息长度大（要算上整个消息长度）。
